#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Extract type prefix from branch name (feat/, fix/ ç­‰)
BRANCH_NAME=$(git rev-parse --abbrev-ref HEAD)
TYPE=$(echo $BRANCH_NAME | grep -Eo '^(feat|fix|docs|style|refactor|test|chore)/' | sed 's/\///')

if [ ! -z "$TYPE" ]; then
  # If commit message doesn't have type prefix, add it
  if ! grep -q "^$TYPE:" "$(cat $1)"; then
    echo "$TYPE: $(cat $1)" > $1
  fi
fi 